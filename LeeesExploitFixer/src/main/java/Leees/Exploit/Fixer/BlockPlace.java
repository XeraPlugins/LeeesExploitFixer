package Leees.Exploit.Fixer;

import org.bukkit.ChatColor;
import org.bukkit.Material;
import org.bukkit.block.Block;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.block.BlockBreakEvent;
import org.bukkit.event.block.BlockPlaceEvent;

import javax.rmi.CORBA.Util;

public class BlockPlace implements Listener {
    @EventHandler
    public void onBlockPlace(BlockPlaceEvent event) {
        Player player = event.getPlayer();
        Block block = event.getBlock();
        if (block.getType() == Material.BEDROCK) {
            player.sendMessage(ChatColor.translateAlternateColorCodes('&', Main.getPlugin().getConfig().getString("IllegalBlock-Place.Bedrock")));
            event.setCancelled(true);
        }

        if (block.getType() == Material.BARRIER) {
            player.sendMessage(ChatColor.translateAlternateColorCodes('&', Main.getPlugin().getConfig().getString("IllegalBlock-Place.Barrier")));
            event.setCancelled(true);
        }

        if (block.getType() == Material.ENDER_PORTAL_FRAME) {
            player.sendMessage(ChatColor.translateAlternateColorCodes('&', Main.getPlugin().getConfig().getString("IllegalBlock-Place.End_Portal_Frame")));
            event.setCancelled(true);
        }

        if (block.getType() == Material.MOB_SPAWNER) {
            player.sendMessage(ChatColor.translateAlternateColorCodes('&', Main.getPlugin().getConfig().getString("IllegalBlock-Place.Mob_Spawner")));
            event.setCancelled(true);
        }

    }

    @EventHandler
    public void onBreak(BlockBreakEvent event) {
        if (event.getBlock().getType() == Material.BEDROCK) {
            event.setCancelled(true);
            event.getPlayer().sendMessage(ChatColor.GRAY + "No Nigga");
        }

    }
}
