package Leees.Exploit.Fixer;

import org.bukkit.ChatColor;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.player.PlayerTeleportEvent;
import org.bukkit.event.player.PlayerTeleportEvent.TeleportCause;

public class SpawnTeleport implements Listener {
    @EventHandler
    public void onTeleport(PlayerTeleportEvent event) {
        Player player = event.getPlayer();
        int spawn = Main.getPlugin().getConfig().getInt("Spawn.Raidus");
        if (!player.isOp() &&
                player.getLocation().getBlockX() < spawn &&
                player.getLocation().getBlockX() > -spawn &&
                player.getLocation().getBlockZ() < spawn &&
                player.getLocation().getBlockZ() > -spawn &&
                event.getCause() == TeleportCause.PLUGIN) {
            player.sendMessage(ChatColor.translateAlternateColorCodes('&', "&6you must be "+ spawn +" to use /home && /tpa"));
            event.setCancelled(true);
        }}}