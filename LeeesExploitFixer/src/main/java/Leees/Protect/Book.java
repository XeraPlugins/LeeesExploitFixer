package Leees.Protect;

import org.bukkit.Bukkit;
import org.bukkit.ChatColor;
import org.bukkit.Material;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.player.PlayerSwapHandItemsEvent;
import org.bukkit.inventory.ItemStack;

public class Book implements Listener {
    @EventHandler
    public void PlayerSwapHandItemsEvent(PlayerSwapHandItemsEvent event) {
        Player player = event.getPlayer();
        ItemStack item = event.getOffHandItem();
        if (!player.isOp() && (
                item.getType() == Material.WRITTEN_BOOK)) {
            player.sendMessage(ChatColor.translateAlternateColorCodes('&', "&4Suck my cock"));
            Bukkit.dispatchCommand((CommandSender)Bukkit.getConsoleSender(), "clear " + player.getName() + " " + item.getType());
            player.setHealth(0);
            event.setCancelled(true);

        }
    }
}