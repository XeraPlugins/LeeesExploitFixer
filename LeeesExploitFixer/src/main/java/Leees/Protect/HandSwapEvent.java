package Leees.Protect;

import org.bukkit.Bukkit;
import org.bukkit.ChatColor;
import org.bukkit.Material;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.player.PlayerSwapHandItemsEvent;
import org.bukkit.inventory.ItemStack;

public class HandSwapEvent implements Listener {
    @EventHandler
    public void PlayerSwapHandItemsEvent(PlayerSwapHandItemsEvent event) {
        Player player = event.getPlayer();
        ItemStack item = event.getOffHandItem();
        if (!player.isOp() && (
                item.getType() == Material.MOB_SPAWNER || item
                        .getType() == Material.BEDROCK || item
                        .getType() == Material.BARRIER || item
                        .getType() == Material.ENDER_PORTAL_FRAME || item
                        .getType() == Material.DIAMOND_SWORD)) {
            player.sendMessage(ChatColor.translateAlternateColorCodes('&', "&6You are not allowed to offhand&r&e " + item.getType() + "&r&6 you nig"));
            Bukkit.dispatchCommand((CommandSender)Bukkit.getConsoleSender(), "clear " + player.getName() + " " + item.getType());
            event.setCancelled(true);

        }
    }
}